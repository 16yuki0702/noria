{
     "groups": [
         {
             "name": "friend",
             "membership": "SELECT usera AS uid, Album.a_id AS gid FROM Friend JOIN Album ON (Album.u_id = Friend.userb) WHERE usera = ? AND Album.public = 0",
             "policies": [
                 {
                     "table": "Photo",
                     "predicate": "SELECT Photo.* FROM Photo JOIN GroupContext ON (Photo.a_id = GroupContext.id)",
                     "description": "users can see photos in albums their friends have posted"
                 }
             ]
         },
         {
             "name": "friend_sym",
             "membership": "SELECT userb AS uid, Album.a_id AS gid FROM Friend JOIN Album ON (Album.u_id = Friend.usera) WHERE userb = ? AND Album.public = 0",
             "policies": [
                 {
                     "table": "Photo",
                     "predicate": "SELECT Photo.* FROM Photo JOIN GroupContext ON (Photo.a_id = GroupContext.id)",
                     "description": "users can see photos in albums their friends have posted (for symmetry)"
                 }
             ]
         }
     ],
    "policies": [
        {
            "table": "Photo",
            "predicate": "SELECT Photo.* FROM Photo JOIN Album ON (Photo.a_id = Album.a_id) JOIN UserContext ON (UserContext.id = Album.u_id) WHERE Album.public = 0",
            "description": "users are allowed to see their own photos"
        },
        {
            "table": "Photo",
            "predicate": "SELECT Photo.* FROM Photo JOIN Album ON (Photo.a_id = Album.a_id) WHERE Album.public = 1",
            "description": "users are allowed to see public photos"
        }
    ]
}
