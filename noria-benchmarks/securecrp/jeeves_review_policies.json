
{
    "groups": [
	{
            "name": "reviewers",
            "membership": "SELECT username AS uid, paper AS gid FROM ReviewAssignment WHERE username = ?",
            "policies": [
		{
                    "table": "Paper",
                    "predicate": "SELECT * FROM Paper JOIN GroupContext ON (Paper.id = GroupContext.id)",
                    "description": "Reviewers can see papers they are assigned to."
                },
		{
		    "table": "Review",
		    "predicate": "SELECT * FROM Review JOIN GroupContext ON (Review.paper = GroupContext.id)",
		    "description": "Reviewers can see reviews on papers they are assigned to."
		},
		{
		    "action": "rewrite",
                    "table": "Paper",
		    "value": "anonymous",
		    "column": "author",
		    "key": "id",
                    "rewrite": "SELECT id FROM Paper;",
                    "description": "Reviewers can't see authors identities."
                },
		{
		    "action": "rewrite",
                    "table": "Review",
		    "value": "anonymous",
		    "column": "reviewer",
		    "key": "paper",
                    "rewrite": "SELECT paper FROM Review;",
                    "description": "Reviewers can't see reviewers identities."
                }
            ]
        }
    ],
    "policies": [
      {
        "description": "Everyone can see accepted papers",
        "table": "Paper",
        "predicate": "SELECT * FROM Paper WHERE Paper.accepted = 1;"
      },
	{
	    "description": "test policy",
	    "table": "Review",
	    "predicate": "SELECT * FROM Review WHERE Review.reviewer = \"nobody\";"
	}
    ]
}
